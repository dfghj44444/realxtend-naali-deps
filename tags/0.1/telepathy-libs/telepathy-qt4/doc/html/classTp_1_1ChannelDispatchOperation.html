<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>TelepathyQt4: ChannelDispatchOperation Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="1">&nbsp;&nbsp;</td>
<td class="postheader" valign="center">
<a href="index.html">
<font color="#004faf">Home</font></a>&nbsp;&middot;
<a href="classes.html">
<font color="#004faf">All Classes</font></a>&nbsp;&middot;
<a href="namespaces.html">
<font color="#004faf">All Namespaces</font></a>&nbsp;&middot;
<a href="modules.html">
<font color="#004faf">Modules</font></a>&nbsp;&middot;
<a href="functions.html">
<font color="#004faf">Functions</font></a>&nbsp;&middot;
<a href="files.html">
<font color="#004faf">Files</font></a>
</td>
</tr>
</table>
</body>
</html>
<!-- Generated by Doxygen 1.5.9 -->
  <div class="navpath"><a class="el" href="namespaceTp.html">Tp</a>::<a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a>
  </div>
<div class="contents">
<h1>ChannelDispatchOperation Class Reference<br>
<small>
[<a class="el" href="group__clientchanneldispatchoperation.html">ChannelDispatchOperation proxies</a>]</small>
</h1><!-- doxytag: class="Tp::ChannelDispatchOperation" --><!-- doxytag: inherits="Tp::StatefulDBusProxy,OptionalInterfaceFactory&lt; ChannelDispatchOperation &gt;,Tp::ReadyObject,Tp::RefCounted" --><code>#include &lt;<a class="el" href="channel-dispatch-operation_8h_source.html">TelepathyQt4/ChannelDispatchOperation</a>&gt;</code>
<p>
Inherits <a class="el" href="classTp_1_1StatefulDBusProxy.html">Tp::StatefulDBusProxy</a>, <a class="el" href="classTp_1_1OptionalInterfaceFactory.html">OptionalInterfaceFactory&lt; ChannelDispatchOperation &gt;</a>, <a class="el" href="classTp_1_1ReadyObject.html">Tp::ReadyObject</a>, and <a class="el" href="classTp_1_1RefCounted.html">Tp::RefCounted</a>.
<p>

<p>
<a href="classTp_1_1ChannelDispatchOperation-members.html">List of all members.</a><h2>Signals</h2>
<ul>
<li>void <a class="el" href="classTp_1_1ChannelDispatchOperation.html#fc06ab475d5186324ef6e63e60cb7f6f">channelLost</a> (const <a class="el" href="classTp_1_1SharedPtr.html">ChannelPtr</a> &amp;channel, const QString &amp;errorName, const QString &amp;errorMessage)
</ul>
<h2>Public Member Functions</h2>
<ul>
<li>virtual <a class="el" href="classTp_1_1ChannelDispatchOperation.html#0cf6106c6e8da1573e40da67efee4630">~ChannelDispatchOperation</a> ()
<li><a class="el" href="classTp_1_1SharedPtr.html">ConnectionPtr</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#d7dfedd8a11393b66a7b09bf1462d448">connection</a> () const 
<li><a class="el" href="classTp_1_1SharedPtr.html">AccountPtr</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#fd4a4cd57c806bb9f612b152f66d9833">account</a> () const 
<li>QList&lt; <a class="el" href="classTp_1_1SharedPtr.html">ChannelPtr</a> &gt; <a class="el" href="classTp_1_1ChannelDispatchOperation.html#88bf79248c9beae527be44f1f57c736b">channels</a> () const 
<li>QStringList <a class="el" href="classTp_1_1ChannelDispatchOperation.html#625e2bc2b465ffe50ddb79ef57b37a14">possibleHandlers</a> () const 
<li><a class="el" href="classTp_1_1PendingOperation.html">PendingOperation</a> * <a class="el" href="classTp_1_1ChannelDispatchOperation.html#14fc81685ad1a0018295b5475e19ff7f">handleWith</a> (const QString &amp;handler)
<li><a class="el" href="classTp_1_1PendingOperation.html">PendingOperation</a> * <a class="el" href="classTp_1_1ChannelDispatchOperation.html#d220170c9fd02802122809660db9e534">claim</a> ()
<li><a class="el" href="classTp_1_1Client_1_1DBus_1_1PropertiesInterface.html">Client::DBus::PropertiesInterface</a> * <a class="el" href="classTp_1_1ChannelDispatchOperation.html#0eba72b176df6f71f75f22a1fad2e4c2">propertiesInterface</a> () const 
</ul>
<h2>Static Public Member Functions</h2>
<ul>
<li>static <a class="el" href="classTp_1_1SharedPtr.html">ChannelDispatchOperationPtr</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#794b17506a9b5eed398f4882ba806bb4">create</a> (const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)
<li>static <a class="el" href="classTp_1_1SharedPtr.html">ChannelDispatchOperationPtr</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#3dcc9fa5f09895ea32a65f4d8fe8a2d5">create</a> (const QDBusConnection &amp;bus, const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)
</ul>
<h2>Static Public Attributes</h2>
<ul>
<li>static const <a class="el" href="classTp_1_1Feature.html">Feature</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#5000fb4b8588d0f682acb4f35f0fb94c">FeatureCore</a>
</ul>
<h2>Protected Member Functions</h2>
<ul>
<li><a class="el" href="classTp_1_1ChannelDispatchOperation.html#5f8c00084e4cb17730e7c6817a4a7e93">ChannelDispatchOperation</a> (const QDBusConnection &amp;bus, const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)
<li><a class="el" href="classTp_1_1Client_1_1ChannelDispatchOperationInterface.html">Client::ChannelDispatchOperationInterface</a> * <a class="el" href="classTp_1_1ChannelDispatchOperation.html#1d1e9316b415cf9f6282389b67193b25">baseInterface</a> () const 
</ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
High-level proxy object for accessing remote Telepathy <a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a> objects.<p>
One of the channel dispatcher's functions is to offer incoming channels to Approver clients for approval. An approver should generally ask the user whether they want to participate in the requested communication channels (join the chat or chatroom, answer the call, accept the file transfer, or whatever is appropriate). A collection of channels offered in this way is represented by a <a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a> object.<p>
If the user wishes to accept the communication channels, the approver should call <a class="el" href="classTp_1_1ChannelDispatchOperation.html#14fc81685ad1a0018295b5475e19ff7f">handleWith()</a> to indicate the user's or approver's preferred handler for the channels (the empty string indicates no particular preference, and will cause any suitable handler to be used).<p>
If the user wishes to reject the communication channels, or if the user accepts the channels and the approver will handle them itself, the approver should call <a class="el" href="classTp_1_1ChannelDispatchOperation.html#d220170c9fd02802122809660db9e534">claim()</a>. If the resulting <a class="el" href="classTp_1_1PendingOperation.html">PendingOperation</a> succeeds, the approver immediately has control over the channels as their primary handler, and may do anything with them (in particular, it may close them in whatever way seems most appropriate).<p>
There are various situations in which the channel dispatch operation will be closed, causing the <a class="el" href="classTp_1_1DBusProxy.html#be14517035de49903f417d03dfe8e40e">DBusProxy::invalidated()</a> signal to be emitted. If this happens, the approver should stop prompting the user.<p>
Because all approvers are launched simultaneously, the user might respond to another approver; if this happens, the invalidated signal will be emitted with the error code TELEPATHY_QT4_ERROR_OBJECT_REMOVED.<p>
If a channel closes, the signal <a class="el" href="classTp_1_1ChannelDispatchOperation.html#fc06ab475d5186324ef6e63e60cb7f6f">channelLost()</a> is emitted. If all channels close, there is nothing more to dispatch, so the invalidated signal will be emitted with the error code TELEPATHY_QT4_ERROR_OBJECT_REMOVED.<p>
If the channel dispatcher crashes or exits, the invalidated signal will be emitted with the error code TELEPATHY_DBUS_ERROR_NAME_HAS_NO_OWNER. In a high-quality implementation, the dispatcher should be restarted, at which point it will create new channel dispatch operations for any undispatched channels, and the approver will be notified again. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="0cf6106c6e8da1573e40da67efee4630"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::~ChannelDispatchOperation" ref="0cf6106c6e8da1573e40da67efee4630" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Class destructor. 
</div>
</div><p>
<a class="anchor" name="5f8c00084e4cb17730e7c6817a4a7e93"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::ChannelDispatchOperation" ref="5f8c00084e4cb17730e7c6817a4a7e93" args="(const QDBusConnection &amp;bus, const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a>           </td>
          <td>(</td>
          <td class="paramtype">const QDBusConnection &amp;&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>objectPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariantMap &amp;&nbsp;</td>
          <td class="paramname"> <em>immutableProperties</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="794b17506a9b5eed398f4882ba806bb4"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::create" ref="794b17506a9b5eed398f4882ba806bb4" args="(const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1SharedPtr.html">ChannelDispatchOperationPtr</a> create           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>objectPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariantMap &amp;&nbsp;</td>
          <td class="paramname"> <em>immutableProperties</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3dcc9fa5f09895ea32a65f4d8fe8a2d5"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::create" ref="3dcc9fa5f09895ea32a65f4d8fe8a2d5" args="(const QDBusConnection &amp;bus, const QString &amp;objectPath, const QVariantMap &amp;immutableProperties)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1SharedPtr.html">ChannelDispatchOperationPtr</a> create           </td>
          <td>(</td>
          <td class="paramtype">const QDBusConnection &amp;&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>objectPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariantMap &amp;&nbsp;</td>
          <td class="paramname"> <em>immutableProperties</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d7dfedd8a11393b66a7b09bf1462d448"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::connection" ref="d7dfedd8a11393b66a7b09bf1462d448" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1SharedPtr.html">ConnectionPtr</a> connection           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fd4a4cd57c806bb9f612b152f66d9833"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::account" ref="fd4a4cd57c806bb9f612b152f66d9833" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1SharedPtr.html">AccountPtr</a> account           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="88bf79248c9beae527be44f1f57c736b"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::channels" ref="88bf79248c9beae527be44f1f57c736b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; <a class="el" href="classTp_1_1SharedPtr.html">ChannelPtr</a> &gt; channels           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="625e2bc2b465ffe50ddb79ef57b37a14"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::possibleHandlers" ref="625e2bc2b465ffe50ddb79ef57b37a14" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QStringList possibleHandlers           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="14fc81685ad1a0018295b5475e19ff7f"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::handleWith" ref="14fc81685ad1a0018295b5475e19ff7f" args="(const QString &amp;handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1PendingOperation.html">PendingOperation</a> * handleWith           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d220170c9fd02802122809660db9e534"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::claim" ref="d220170c9fd02802122809660db9e534" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1PendingOperation.html">PendingOperation</a> * claim           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0eba72b176df6f71f75f22a1fad2e4c2"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::propertiesInterface" ref="0eba72b176df6f71f75f22a1fad2e4c2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1Client_1_1DBus_1_1PropertiesInterface.html">Client::DBus::PropertiesInterface</a>* propertiesInterface           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fc06ab475d5186324ef6e63e60cb7f6f"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::channelLost" ref="fc06ab475d5186324ef6e63e60cb7f6f" args="(const ChannelPtr &amp;channel, const QString &amp;errorName, const QString &amp;errorMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void channelLost           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTp_1_1SharedPtr.html">ChannelPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>errorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>errorMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1d1e9316b415cf9f6282389b67193b25"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::baseInterface" ref="1d1e9316b415cf9f6282389b67193b25" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTp_1_1Client_1_1ChannelDispatchOperationInterface.html">Client::ChannelDispatchOperationInterface</a> * baseInterface           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the ChannelDispatchOperationInterface for this <a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a> class. This method is protected since the convenience methods provided by this class should always be used instead of the interface by users of the class.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the existing ChannelDispatchOperationInterface for this <a class="el" href="classTp_1_1ChannelDispatchOperation.html">ChannelDispatchOperation</a> </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="5000fb4b8588d0f682acb4f35f0fb94c"></a><!-- doxytag: member="Tp::ChannelDispatchOperation::FeatureCore" ref="5000fb4b8588d0f682acb4f35f0fb94c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classTp_1_1Feature.html">Feature</a> <a class="el" href="classTp_1_1ChannelDispatchOperation.html#5000fb4b8588d0f682acb4f35f0fb94c">FeatureCore</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">Copyright &copy; 2009 Collabora Ltd. and Nokia Corporation</td>
<td width="30%" align="right"><div align="right">Telepathy-Qt4 0.1.10</div></td>
</tr></table></div></address>
</body>
</html>
